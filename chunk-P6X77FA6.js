import{a as B}from"./chunk-4UFM2SEN.js";import{a as D,b as g,c as j,d as q,e as A,f as y,h as k,i as G,j as R,n as L,o as V}from"./chunk-6XM4JLLI.js";import{L as O,M as x,O as T,Q as M,R as N,g as I}from"./chunk-LCZBXWVK.js";import{Hb as l,Rb as E,Sa as u,Ta as _,V as C,ha as h,jb as d,lb as a,oc as S,qb as o,rb as i,sb as v,sc as b,yb as w,zb as F}from"./chunk-6ZEQ7G7Q.js";function U(e,p){e&1&&(o(0,"div"),l(1,"Le nom est obligatoire"),i())}function P(e,p){if(e&1&&(o(0,"div",16),d(1,U,2,0,"div",17),i()),e&2){let n,r=F();u(),a("ngIf",(n=r.myForm.get("nom"))==null||n.errors==null?null:n.errors.required)}}function z(e,p){e&1&&(o(0,"div"),l(1,"Le pr\xE9nom est obligatoire"),i())}function H(e,p){if(e&1&&(o(0,"div",16),d(1,z,2,0,"div",17),i()),e&2){let n,r=F();u(),a("ngIf",(n=r.myForm.get("prenom"))==null||n.errors==null?null:n.errors.required)}}function J(e,p){e&1&&(o(0,"div"),l(1,"Le num\xE9ro est obligatoire"),i())}function K(e,p){if(e&1&&(o(0,"div",16),d(1,J,2,0,"div",17),i()),e&2){let n,r=F();u(),a("ngIf",(n=r.myForm.get("numero"))==null||n.errors==null?null:n.errors.required)}}function Q(e,p){e&1&&v(0,"div",16)}function W(e,p){e&1&&(o(0,"div",16),l(1,"Le statut est obligatorie"),i())}var le=(()=>{class e{constructor(n,r,t,m){this.ownerService=n,this.router=r,this.dialogRef=t,this.data=m,this.myForm=new A({nom:new y("",[g.required]),prenom:new y("",[g.required]),numero:new y("",[g.required]),mail:new y("",[g.required])})}ngOnInit(){this.data?.id&&this.loadOwnerFormById(this.data.id).subscribe()}cancel(){this.dialogRef.close(!1)}confirm(){this.dialogRef.close(!0)}loadOwnerFormById(n){return this.ownerService.findOwnerById(n).pipe(C(r=>{this.myForm.patchValue({nom:r.nom,prenom:r.prenom,numero:r.numero,mail:r.mail})}))}onSubmit(){let n=this.myForm.value;this.myForm.valid?this.ownerService.createOwner(n).subscribe(()=>{this.router.navigate(["/owner"])}):console.log("erreur, formulaire pas valid\xE9")}static{this.\u0275fac=function(r){return new(r||e)(_(B),_(I),_(O),_(x))}}static{this.\u0275cmp=h({type:e,selectors:[["app-owner-form"]],standalone:!0,features:[E],decls:30,vars:6,consts:[[3,"formGroup"],["mat-dialog-title",""],[1,"p-4"],[1,"form-group"],["for","nom"],["type","text","id","nom","formControlName","nom",1,"form-control"],["class","alert alert-danger",4,"ngIf"],["for","prenom"],["type","text","id","prenom","formControlName","prenom",1,"form-control"],["for","numero"],["type","text","id","numero","formControlName","numero",1,"form-control"],["for","mail"],["type","email","id","mail","formControlName","mail",1,"form-control"],[1,"d-flex","flex-row","justify-content-evenly"],[1,"cancel-button",3,"click"],[1,"d-flex","justify-content-center","align-items-center","btn","btn-success",3,"click"],[1,"alert","alert-danger"],[4,"ngIf"]],template:function(r,t){if(r&1&&(o(0,"form",0)(1,"h4",1),l(2,"Cr\xE9er une propri\xE9taire"),i(),o(3,"div",2)(4,"div",3)(5,"label",4),l(6,"Nom"),i(),v(7,"input",5),d(8,P,2,1,"div",6),i(),o(9,"div",3)(10,"label",7),l(11,"Prenom"),i(),v(12,"input",8),d(13,H,2,1,"div",6),i(),o(14,"div",3)(15,"label",9),l(16,"Num\xE9ro"),i(),v(17,"input",10),d(18,K,2,1,"div",6),i(),o(19,"div",3)(20,"label",11),l(21,"Mail"),i(),v(22,"input",12),d(23,Q,1,0,"div",6)(24,W,2,0,"div",6),i()()(),o(25,"mat-dialog-actions",13)(26,"button",14),w("click",function(){return t.cancel()}),l(27,"Annuler"),i(),o(28,"button",15),w("click",function(){return t.onSubmit()}),l(29," Ajouter un propri\xE9taire "),i()()),r&2){let m,c,s,f;a("formGroup",t.myForm),u(8),a("ngIf",((m=t.myForm.get("nom"))==null?null:m.invalid)&&(((m=t.myForm.get("nom"))==null?null:m.dirty)||((m=t.myForm.get("nom"))==null?null:m.touched))),u(5),a("ngIf",((c=t.myForm.get("prenom"))==null?null:c.invalid)&&(((c=t.myForm.get("prenom"))==null?null:c.dirty)||((c=t.myForm.get("prenom"))==null?null:c.touched))),u(5),a("ngIf",((s=t.myForm.get("numero"))==null?null:s.invalid)&&(((s=t.myForm.get("numero"))==null?null:s.dirty)||((s=t.myForm.get("numero"))==null?null:s.touched))),u(5),a("ngIf",((f=t.myForm.get("mail"))==null?null:f.invalid)&&(((f=t.myForm.get("mail"))==null?null:f.dirty)||((f=t.myForm.get("mail"))==null?null:f.touched))),u(),a("ngIf",t.myForm==null||t.myForm.errors==null?null:t.myForm.errors.required)}},dependencies:[L,k,D,j,q,V,G,R,b,S,N,T,M],encapsulation:2})}}return e})();export{le as a};
