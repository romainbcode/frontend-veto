import{a as St,b as vt,c as yt,d as wt,e as bt,f as Mt,g as Tt}from"./chunk-OAYQEB3L.js";import{a as xt}from"./chunk-NCZL3VKO.js";import{a as et,b as nt,c as it,d as ot,e as at,f as lt,g as rt,h as mt,i as st,j as ct,k as pt,l as dt,m as k,n as ut}from"./chunk-3DAEMDKI.js";import{a as Q,b as U,c as X,d as Y,e as Z,f as tt,h as T,i as E,j as D}from"./chunk-HPZP44YZ.js";import{a as ht,d as I}from"./chunk-GWJNBV46.js";import"./chunk-WS7OEYDR.js";import{a as ft,c as Ct,g as _t,n as gt}from"./chunk-JOFQLKKD.js";import{L as G,N as O,O as L,P as q,Q as J,R as K,g as W}from"./chunk-YSJNSMYB.js";import{Fb as F,Gb as r,Hb as g,Ib as y,Jb as N,Lb as R,Mb as A,Nb as j,Pb as w,Sa as a,Ta as V,ca as b,ha as x,jb as d,lb as s,lc as H,mc as $,nc as P,oc as z,pa as S,pb as n,pc as B,qa as v,qb as o,rb as c,sb as C,tb as _,vb as M,xb as u,yb as f}from"./chunk-BEANJWLH.js";var Dt=(()=>{class t{constructor(){this.dialogRef=b(G),this.faCheck=T}cancel(){this.dialogRef.close(!1)}confirm(){this.dialogRef.close(!0)}static{this.\u0275fac=function(m){return new(m||t)}}static{this.\u0275cmp=x({type:t,selectors:[["app-dialog-confirmation-validate"]],standalone:!0,features:[w],decls:11,vars:1,consts:[[1,"p-4"],[1,"d-flex","justify-content-center","fa-2xl","mb-3",2,"color","green",3,"icon"],["mat-dialog-title","",1,"d-flex","justify-content-center"],[1,"d-flex","justify-content-center"],[1,"d-flex","justify-content-evenly"],[1,"cancel-button",3,"click"],[1,"validate-button",3,"click"]],template:function(m,i){m&1&&(n(0,"div",0),c(1,"fa-icon",1),n(2,"h2",2),r(3,"Terminer la consultation"),o(),n(4,"mat-dialog-content",3),r(5," Veux-tu vraiment confirmer ce changement ? "),o(),n(6,"mat-dialog-actions",4)(7,"button",5),u("click",function(){return i.cancel()}),r(8,"Annuler"),o(),n(9,"button",6),u("click",function(){return i.confirm()}),r(10,"Confirmer"),o()()()),m&2&&(a(),s("icon",i.faCheck))},dependencies:[k,J,q,L,D,E],encapsulation:2,changeDetection:0})}}return t})();var kt=(()=>{class t{static{this.\u0275fac=function(m){return new(m||t)}}static{this.\u0275cmp=x({type:t,selectors:[["app-card-vet"]],inputs:{firstName:"firstName",lastName:"lastName"},standalone:!0,features:[w],decls:3,vars:2,consts:[[1,"fw-normal","mb-1"]],template:function(m,i){m&1&&(n(0,"div")(1,"div",0),r(2),o()()),m&2&&(a(2),N("",i.lastName," ",i.firstName,""))},encapsulation:2})}}return t})();function It(t,l){t&1&&(n(0,"th",35),r(1,"Statut"),o())}function Ft(t,l){if(t&1&&(n(0,"span",42),r(1),o()),t&2){let e=f().$implicit;a(),g(e.statut.libelle)}}function Nt(t,l){if(t&1&&(n(0,"span",43),r(1),o()),t&2){let e=f().$implicit;a(),g(e.statut.libelle)}}function Rt(t,l){if(t&1&&(n(0,"span",44),r(1),o()),t&2){let e=f().$implicit;a(),g(e.statut.libelle)}}function At(t,l){t&1&&(n(0,"span",45),r(1,"Inconnu"),o())}function jt(t,l){if(t&1&&(n(0,"td",36),C(1,37),d(2,Ft,2,1,"span",38)(3,Nt,2,1,"span",39)(4,Rt,2,1,"span",40)(5,At,2,0,"span",41),_(),o()),t&2){let e=l.$implicit;a(),s("ngSwitch",e.statut.id),a(),s("ngSwitchCase",1),a(),s("ngSwitchCase",2),a(),s("ngSwitchCase",3)}}function Ht(t,l){t&1&&(n(0,"th",35),r(1,"Titre"),o())}function $t(t,l){if(t&1&&(n(0,"td",46),r(1),o()),t&2){let e=l.$implicit;a(),g(e.titre)}}function Pt(t,l){t&1&&(n(0,"th",35),r(1,"Animal"),o())}function zt(t,l){t&1&&c(0,"img",51)}function Bt(t,l){t&1&&c(0,"img",52)}function Wt(t,l){t&1&&c(0,"img",53)}function Gt(t,l){t&1&&(n(0,"span"),r(1,"Autre"),o())}function Ot(t,l){if(t&1&&(n(0,"td",46),C(1,37),d(2,zt,1,0,"img",47)(3,Bt,1,0,"img",48)(4,Wt,1,0,"img",49)(5,Gt,2,0,"span",50),_(),r(6),o()),t&2){let e=l.$implicit;a(),s("ngSwitch",e.animal.libelle),a(),s("ngSwitchCase","Chien"),a(),s("ngSwitchCase","Chat"),a(),s("ngSwitchCase","NAC"),a(2),y(" ",e.animal.nom," ")}}function Lt(t,l){t&1&&(n(0,"th",35),r(1,"Date"),o())}function qt(t,l){if(t&1&&(n(0,"td",46),r(1),o()),t&2){let e=l.$implicit;a(),y(" ",e.date,"")}}function Jt(t,l){t&1&&(n(0,"th",35),r(1,"Type d'op\xE9ration"),o())}function Kt(t,l){if(t&1&&(n(0,"td",46),r(1),o()),t&2){let e=l.$implicit;a(),y(" ",e.typeOperation.type,"")}}function Qt(t,l){t&1&&(n(0,"th",35),r(1,"V\xE9t\xE9rinaire"),o())}function Ut(t,l){if(t&1&&(n(0,"td",46),c(1,"app-card-vet",54),o()),t&2){let e=l.$implicit;a(),s("firstName",e.veterinarian.prenom)("lastName",e.veterinarian.nom)}}function Xt(t,l){t&1&&c(0,"th",55)}function Yt(t,l){if(t&1){let e=M();n(0,"button",59),u("click",function(i){S(e);let p=f().$implicit;return f().completeConsultation(p.id),v(i.stopPropagation())}),c(1,"fa-icon",62),n(2,"span"),r(3,"Terminer la consultation"),o()()}if(t&2){let e=f(2);a(),s("icon",e.faCheck)}}function Zt(t,l){if(t&1){let e=M();n(0,"td",46)(1,"button",56),u("click",function(i){return S(e),v(i.stopPropagation())}),c(2,"fa-icon",57),o(),n(3,"mat-menu",null,0),d(5,Yt,4,1,"button",58),n(6,"button",59),u("click",function(i){let p=S(e).$implicit;return f().deleteConsultation(p.id),v(i.stopPropagation())}),c(7,"fa-icon",60),n(8,"span"),r(9,"Supprimer"),o()(),n(10,"button",59),u("click",function(i){let p=S(e).$implicit;return f().editConsultation(p.id),v(i.stopPropagation())}),c(11,"fa-icon",61),n(12,"span"),r(13,"Modifier"),o()()()()}if(t&2){let e=l.$implicit,m=F(4),i=f();a(),s("matMenuTriggerFor",m),a(),s("icon",i.faEllipsisVertical),a(3),s("ngIf",e.statut.id!==1),a(2),s("icon",i.faTrash),a(4),s("icon",i.faEdit)}}function te(t,l){t&1&&c(0,"tr",63)}function ee(t,l){if(t&1){let e=M();n(0,"tr",64),u("click",function(){let i=S(e).$implicit,p=f();return v(p.showConsultation(i.id))}),o()}}var je=(()=>{class t{constructor(e,m){this.consultationService=e,this.router=m,this.dialog=b(O),this.faTrash=U,this.faEdit=Q,this.faCheck=T,this.faHourglass=X,this.faPlus=tt,this.faEllipsisVertical=Y,this.faMagnifyingGlass=Z,this.displayedColumns=["Statut","Titre","Date","Animal","Veterinaire","TypeOperation","Actions"],this.searchTerm=""}filterConsultations(){this.consultationService.findConsultationWithFilter(this.searchTerm)}deleteConsultation(e){this.dialog.open(ut,{width:"500px"}).afterClosed().subscribe(i=>{i&&this.consultationService.deleteConsultationById(e).subscribe()})}createConsultation(){this.dialog.open(I,{width:"500px"})}editConsultation(e){this.dialog.open(I,{width:"500px",data:{id:e}})}showConsultation(e){this.dialog.open(xt,{width:"500px",data:{id:e}})}completeConsultation(e){this.dialog.open(Dt,{width:"500px"}).afterClosed().subscribe(i=>{i&&this.consultationService.completeConsultationById(e).subscribe()})}get consultationsFinishedCount(){return this.consultationService.consultations().filter(e=>e.statut.id===1).length}get consultationsPendingCount(){return this.consultationService.consultations().filter(e=>e.statut.id===2).length}static{this.\u0275fac=function(m){return new(m||t)(V(ht),V(W))}}static{this.\u0275cmp=x({type:t,selectors:[["app-consultation"]],standalone:!0,features:[w],decls:54,vars:12,consts:[["menu","matMenu"],[1,"p-3"],[1,"d-flex","justify-content-center","mb-4"],[1,"border","rounded","d-inline-flex","me-5"],[1,"d-flex","align-items-center","px-4","py-2"],[1,"py-2","px-3","rounded","me-4",2,"background-color","#d8ffd9"],[1,"fa-2xl",2,"color","green",3,"icon"],[1,"d-flex","flex-column","justify-content-center"],[1,"fw-light","m-0","p-0","text-center",2,"font-size","14px"],[1,"fs-2","fw-bold","m-0","p-0"],[1,"border","rounded","d-inline-flex"],[1,"py-2","px-3","rounded","me-4",2,"background-color","#ededed"],[1,"fa-2xl",2,"color","grey",3,"icon"],[1,"d-flex","justify-content-end","align-items-center"],[1,"d-flex","align-items-center","input-group","me-2",2,"width","20%"],[1,"input-group-prepend"],[1,"input-group-text"],[3,"icon"],["type","text","placeholder","Rechercher...",1,"form-control",3,"ngModelChange","ngModel"],[1,"btn","btn-dark",3,"click"],[1,"me-2",3,"icon"],["mat-table","","matSort","",2,"table-layout","auto","width","100%",3,"dataSource"],["matColumnDef","Statut"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","","style","width: 7rem;",4,"matCellDef"],["matColumnDef","Titre"],["mat-cell","",4,"matCellDef"],["matColumnDef","Animal"],["matColumnDef","Date"],["matColumnDef","TypeOperation"],["matColumnDef","Veterinaire"],["matColumnDef","Actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],["mat-header-cell","","mat-sort-header",""],["mat-cell","",2,"width","7rem"],[3,"ngSwitch"],["class","badge bg-success d-inline","style","font-size: 13px;",4,"ngSwitchCase"],["class","badge bg-secondary d-inline","style","font-size: 13px;",4,"ngSwitchCase"],["class","badge bg-danger d-inline","style","font-size: 13px;",4,"ngSwitchCase"],["class","badge inconnu",4,"ngSwitchDefault"],[1,"badge","bg-success","d-inline",2,"font-size","13px"],[1,"badge","bg-secondary","d-inline",2,"font-size","13px"],[1,"badge","bg-danger","d-inline",2,"font-size","13px"],[1,"badge","inconnu"],["mat-cell",""],["src","./assets/tete-de-chien.png","alt","Chien","class","img-logo",4,"ngSwitchCase"],["src","./assets/tete-de-chat.png","alt","Chat","class","img-logo",4,"ngSwitchCase"],["src","./assets/cameleon.png","alt","NAC","class","img-logo",4,"ngSwitchCase"],[4,"ngSwitchDefault"],["src","./assets/tete-de-chien.png","alt","Chien",1,"img-logo"],["src","./assets/tete-de-chat.png","alt","Chat",1,"img-logo"],["src","./assets/cameleon.png","alt","NAC",1,"img-logo"],[3,"firstName","lastName"],["mat-header-cell",""],["mat-button","",3,"click","matMenuTriggerFor"],[2,"color","black",3,"icon"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",3,"click"],[1,"me-2",2,"color","red",3,"icon"],[1,"me-2",2,"color","blue",3,"icon"],[1,"me-2",2,"color","green",3,"icon"],["mat-header-row",""],["mat-row","",3,"click"]],template:function(m,i){m&1&&(n(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5),c(5,"fa-icon",6),o(),n(6,"div",7)(7,"p",8),r(8),o(),n(9,"p",9),r(10),o()()()(),n(11,"div",10)(12,"div",4)(13,"div",11),c(14,"fa-icon",12),o(),n(15,"div",7)(16,"p",8),r(17),o(),n(18,"p",9),r(19),o()()()()(),n(20,"div",13)(21,"div",14)(22,"div",15)(23,"span",16),c(24,"fa-icon",17),o()(),n(25,"input",18),j("ngModelChange",function(h){return A(i.searchTerm,h)||(i.searchTerm=h),h}),u("ngModelChange",function(){return i.filterConsultations()}),o()(),n(26,"button",19),u("click",function(){return i.createConsultation()}),c(27,"fa-icon",20),n(28,"span"),r(29,"Ajouter une consultation"),o()()(),n(30,"table",21),C(31,22),d(32,It,2,0,"th",23)(33,jt,6,4,"td",24),_(),C(34,25),d(35,Ht,2,0,"th",23)(36,$t,2,1,"td",26),_(),C(37,27),d(38,Pt,2,0,"th",23)(39,Ot,7,5,"td",26),_(),C(40,28),d(41,Lt,2,0,"th",23)(42,qt,2,1,"td",26),_(),C(43,29),d(44,Jt,2,0,"th",23)(45,Kt,2,1,"td",26),_(),C(46,30),d(47,Qt,2,0,"th",23)(48,Ut,2,2,"td",26),_(),C(49,31),d(50,Xt,1,0,"th",32)(51,Zt,14,5,"td",26),_(),d(52,te,1,0,"tr",33)(53,ee,1,0,"tr",34),o()()),m&2&&(a(5),s("icon",i.faCheck),a(3),y("Consultation ",i.consultationsFinishedCount>1?"termin\xE9es":"termin\xE9e",""),a(2),g(i.consultationsFinishedCount),a(4),s("icon",i.faHourglass),a(3),y("Consultation ",i.consultationsPendingCount>1?"en attentes":"en attente",""),a(2),g(i.consultationsPendingCount),a(5),s("icon",i.faMagnifyingGlass),a(),R("ngModel",i.searchTerm),a(2),s("icon",i.faPlus),a(3),s("dataSource",i.consultationService.consultations()),a(22),s("matHeaderRowDef",i.displayedColumns),a(),s("matRowDefColumns",i.displayedColumns))},dependencies:[pt,et,it,rt,ot,nt,mt,at,lt,st,ct,B,H,$,P,z,D,E,wt,vt,St,yt,k,dt,K,gt,ft,Ct,_t,Tt,bt,Mt,kt],encapsulation:2})}}return t})();export{je as ConsultationComponent};
