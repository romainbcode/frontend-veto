import{a as ye,b as ge,c as De,d as xe}from"./chunk-TWUGO66R.js";import{a as Ie}from"./chunk-UOH5B25A.js";import{a as Y,b as ee,c as te,d as ie,e as ne,f as oe,g as re,h as ae,i as me,j as le,k as ce,l as se,m as pe,n as de}from"./chunk-KJJDTYKH.js";import{b as z,c as J,e as K,g as Q,h as Ee,j as A,k as P}from"./chunk-67J2RLPG.js";import"./chunk-AQOOQAVY.js";import{a as ue,b as x,c as fe,d as he,e as B,f as M,h as _e,i as Ce,j as ve,n as N,o as H}from"./chunk-6XM4JLLI.js";import{L as k,M as R,N as W,O as Z,Q as Te,R as j,a as X,g as I}from"./chunk-LCZBXWVK.js";import{Gb as U,Hb as a,Jb as E,Rb as C,Sa as m,Ta as d,V as v,Y as O,ba as L,ca as $,db as G,ha as _,jb as f,lb as l,oc as we,p as w,pa as y,qa as g,qb as o,rb as r,sb as c,sc as D,tb as V,ub as b,v as F,wb as T,yb as u,zb as h}from"./chunk-6ZEQ7G7Q.js";var Me=(()=>{class t{constructor(e){this.httpClient=e,this.vets=G([]),this.originalVets=G([]),this.reloadVets().subscribe()}getVets(){return w([{id:1,nom:"Isnard",prenom:"Zoe"},{id:2,nom:"Isnard",prenom:"Achil"}])}reloadVets(){return this.getVets().pipe(v(e=>{this.vets.set(e),this.originalVets.set(e)}))}findVetById(e){return w({id:1,nom:"Isnard",prenom:"Zo\xE9"})}deleteVetById(e){return this.httpClient.request("DELETE","/Veterinaire/"+e).pipe(F(()=>this.reloadVets()))}editVetById(e,i){return this.httpClient.request("PATCH","/Veterinaire/"+e,{body:i}).pipe(F(()=>this.reloadVets()))}createVet(e){let i={};return this.httpClient.request("POST","/Veterinaire",{body:i}).pipe(F(()=>this.reloadVets()))}findVetWithFilter(e){if(!e)return this.vets.set(this.originalVets()),this.vets();let i=this.originalVets().filter(n=>n.nom.toLowerCase().includes(e.toLowerCase())||n.prenom.toLowerCase().includes(e.toLowerCase()));return this.vets.set(i),this.vets()}static{this.\u0275fac=function(i){return new(i||t)(L(X))}}static{this.\u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Ge(t,s){t&1&&(o(0,"div",14),a(1,"Le nom est obligatoire"),r())}function Oe(t,s){if(t&1&&(o(0,"div"),f(1,Ge,2,0,"div",13),r()),t&2){let e=h();m(),l("ngIf",e.nomFc==null||e.nomFc.errors==null?null:e.nomFc.errors.required)}}function Le(t,s){t&1&&(o(0,"div",14),a(1,"Le pr\xE9nom est obligatoire"),r())}function $e(t,s){if(t&1&&(o(0,"div"),f(1,Le,2,0,"div",13),r()),t&2){let e=h();m(),l("ngIf",e.prenomFc==null||e.prenomFc.errors==null?null:e.prenomFc.errors.required)}}var Ve=(()=>{class t{constructor(e,i,n,p){this.veterinarianService=e,this.router=i,this.dialogRef=n,this.data=p,this.myForm=new B({nom:new M("",[x.required]),prenom:new M("",[x.required])})}ngOnInit(){this.data?.id&&this.loaVeterinarianFormById(this.data.id).subscribe()}cancel(){this.dialogRef.close(!1)}confirm(){this.dialogRef.close(!0)}loaVeterinarianFormById(e){return this.veterinarianService.findVetById(e).pipe(v(i=>{this.myForm.patchValue({titre:i.titre,type:i.type})}))}onSubmit(){let e=this.myForm.value;this.myForm.valid?this.veterinarianService.createVet(e).subscribe(()=>{this.router.navigate(["/office"])}):console.log("erreur, formulaire pas valid\xE9")}get nomFc(){return this.myForm.get("nom")}get prenomFc(){return this.myForm.get("prenom")}static{this.\u0275fac=function(i){return new(i||t)(d(Me),d(I),d(k),d(R))}}static{this.\u0275cmp=_({type:t,selectors:[["app-veterinarian-form"]],standalone:!0,features:[C],decls:23,vars:3,consts:[[3,"formGroup"],["mat-dialog-title",""],[1,"p-4"],[1,"form-group","me-2","mb-2"],["for","nom"],[2,"color","red"],["type","text","id","nom","formControlName","nom",1,"form-control"],[4,"ngIf"],[1,"form-group","me-2"],["type","text","id","prenom","formControlName","prenom",1,"form-control"],[1,"d-flex","flex-row","justify-content-evenly"],[1,"cancel-button",3,"click"],[1,"d-flex","justify-content-center","align-items-center","btn","btn-success",3,"click"],["class","alert alert-danger",4,"ngIf"],[1,"alert","alert-danger"]],template:function(i,n){i&1&&(o(0,"form",0)(1,"h4",1),a(2,"Cr\xE9er un v\xE9t\xE9rinaire"),r(),o(3,"div",2)(4,"div",3)(5,"label",4),a(6,"Nom"),o(7,"span",5),a(8,"*"),r()(),c(9,"input",6),f(10,Oe,2,1,"div",7),r(),o(11,"div",8)(12,"label",4),a(13,"Pr\xE9nom"),o(14,"span",5),a(15,"*"),r()(),c(16,"input",9),f(17,$e,2,1,"div",7),r()()(),o(18,"mat-dialog-actions",10)(19,"button",11),u("click",function(){return n.cancel()}),a(20,"Annuler"),r(),o(21,"button",12),u("click",function(){return n.onSubmit()}),a(22," Ajouter un v\xE9t\xE9rinaire "),r()()),i&2&&(l("formGroup",n.myForm),m(10),l("ngIf",n.nomFc==null?null:n.nomFc.touched),m(7),l("ngIf",n.prenomFc==null?null:n.prenomFc.touched))},dependencies:[N,_e,ue,fe,he,H,Ce,ve,D,we,j,Z,Te],encapsulation:2})}}return t})();function Ze(t,s){t&1&&(o(0,"th",14),a(1,"Prenom"),r())}function ze(t,s){if(t&1&&(o(0,"td",15),a(1),r()),t&2){let e=s.$implicit;m(),E(" ",e.prenom,"")}}function Je(t,s){t&1&&(o(0,"th",14),a(1,"Nom"),r())}function Ke(t,s){if(t&1&&(o(0,"td",15),a(1),r()),t&2){let e=s.$implicit;m(),E(" ",e.nom,"")}}function Qe(t,s){t&1&&c(0,"th",14)}function Ye(t,s){if(t&1){let e=T();o(0,"td",15)(1,"button",16),u("click",function(n){return y(e),g(n.stopPropagation())}),c(2,"fa-icon",17),r(),o(3,"mat-menu",null,0)(5,"button",18),u("click",function(n){let p=y(e).$implicit;return h().deleteVet(p.id),g(n.stopPropagation())}),c(6,"fa-icon",19),o(7,"span"),a(8,"Supprimer"),r()(),o(9,"button",18),u("click",function(n){let p=y(e).$implicit;return h().editVet(p.id),g(n.stopPropagation())}),c(10,"fa-icon",20),o(11,"span"),a(12,"Modifier"),r()()()()}if(t&2){let e=U(4),i=h();m(),l("matMenuTriggerFor",e),m(),l("icon",i.faEllipsisVertical),m(4),l("icon",i.faTrash),m(4),l("icon",i.faEdit)}}function et(t,s){t&1&&c(0,"tr",21)}function tt(t,s){if(t&1){let e=T();o(0,"tr",22),u("click",function(){let n=y(e).$implicit,p=h();return g(p.showVet(n.id))}),r()}}var Pe=(()=>{class t{constructor(e){this.veterinarianService=e,this.dialog=$(W),this.faTrash=J,this.faEdit=z,this.faPlus=Q,this.faEllipsisVertical=K,this.displayedColumns=["Nom","Prenom","Actions"],this.searchTerm=""}filterConsultations(){this.veterinarianService.findVetWithFilter(this.searchTerm)}deleteVet(e){this.dialog.open(de,{width:"500px"}).afterClosed().subscribe(n=>{n&&this.veterinarianService.deleteVetById(e).subscribe()})}createVet(){this.dialog.open(Ve,{width:"500px"})}editVet(e){this.dialog.open(Ve,{width:"500px",data:{id:e}})}showVet(e){this.dialog.open(Ie,{width:"500px",data:{id:e}})}static{this.\u0275fac=function(i){return new(i||t)(d(Me))}}static{this.\u0275cmp=_({type:t,selectors:[["app-veterinarian"]],standalone:!0,features:[C],decls:20,vars:4,consts:[["menu","matMenu"],[1,"d-flex","justify-content-center","mb-5"],[1,"fw-bold"],[1,"d-flex","justify-content-end","align-items-center"],[1,"btn","btn-dark",3,"click"],[1,"me-2",3,"icon"],["mat-table","",3,"dataSource"],["matColumnDef","Prenom"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Nom"],["matColumnDef","Actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-button","",3,"click","matMenuTriggerFor"],[2,"color","black",3,"icon"],["mat-menu-item","",3,"click"],[1,"me-2",2,"color","red",3,"icon"],[1,"me-2",2,"color","blue",3,"icon"],["mat-header-row",""],["mat-row","",3,"click"]],template:function(i,n){i&1&&(o(0,"div",1)(1,"h2",2),a(2,"V\xE9t\xE9rinaires"),r()(),o(3,"div",3)(4,"button",4),u("click",function(){return n.createVet()}),c(5,"fa-icon",5),o(6,"span"),a(7,"Ajouter un v\xE9t\xE9rinaire"),r()()(),o(8,"table",6),V(9,7),f(10,Ze,2,0,"th",8)(11,ze,2,1,"td",9),b(),V(12,10),f(13,Je,2,0,"th",8)(14,Ke,2,1,"td",9),b(),V(15,11),f(16,Qe,1,0,"th",8)(17,Ye,13,4,"td",9),b(),f(18,et,1,0,"tr",12)(19,tt,1,0,"tr",13),r()),i&2&&(m(5),l("icon",n.faPlus),m(3),l("dataSource",n.veterinarianService.vets()),m(10),l("matHeaderRowDef",n.displayedColumns),m(),l("matRowDefColumns",n.displayedColumns))},dependencies:[ce,Y,te,re,ie,ee,ae,ne,oe,me,le,D,P,A,xe,ge,ye,De,pe,se],encapsulation:2})}}return t})();var q=(()=>{class t{constructor(e){this.httpClient=e,this.documents=G([]),this.reloadDocuments().subscribe()}getDocuments(){return w([{id:1,titre:"Consignes sorties extraction chien",type:"Consignes Post-Op\xE9ratoire",content:"Content...."},{id:2,titre:"Consignes sorties extraction chat",type:"Consignes Post-Op\xE9ratoire",content:"Content...."}])}reloadDocuments(){return this.getDocuments().pipe(v(e=>this.documents.set(e)))}findDocumentById(e){return w({id:1,titre:"Consignes sorties extraction chien",type:"Consignes Post-Op\xE9ratoire",content:"Content...."})}deleteDocumentById(e){return this.httpClient.request("DELETE","/document/"+e).pipe(F(()=>this.reloadDocuments()))}editDocumentById(e,i){return this.httpClient.request("PATCH","/document/"+e,{body:i}).pipe(F(()=>this.reloadDocuments()))}createDocument(e){let i={};return this.httpClient.request("POST","/document",{body:i}).pipe(F(()=>this.reloadDocuments()))}static{this.\u0275fac=function(i){return new(i||t)(L(X))}}static{this.\u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Se=(()=>{class t{constructor(e,i,n,p){this.documentService=e,this.router=i,this.dialogRef=n,this.data=p,this.myForm=new B({titre:new M("",[x.required]),type:new M("",[x.required])})}ngOnInit(){this.data?.id&&this.loadDocumentFormById(this.data.id).subscribe()}cancel(){this.dialogRef.close(!1)}confirm(){this.dialogRef.close(!0)}loadDocumentFormById(e){return this.documentService.findDocumentById(e).pipe(v(i=>{this.myForm.patchValue({titre:i.titre,type:i.type})}))}onSubmit(){let e=this.myForm.value;this.myForm.valid?this.documentService.createDocument(e).subscribe(()=>{this.router.navigate(["/document"])}):console.log("erreur, formulaire pas valid\xE9")}get titreFc(){return this.myForm.get("titre")}get typeFc(){return this.myForm.get("type")}static{this.\u0275fac=function(i){return new(i||t)(d(q),d(I),d(k),d(R))}}static{this.\u0275cmp=_({type:t,selectors:[["app-document-form"]],standalone:!0,features:[C],decls:2,vars:0,template:function(i,n){i&1&&(o(0,"p"),a(1,"document-form works!"),r())},dependencies:[N,H,D,j],encapsulation:2})}}return t})();var Be=(()=>{class t{constructor(e,i,n){this.documentService=e,this.dialogRef=i,this.data=n,this.faXmark=Ee,this.myForm=new B({titre:new M("",[x.required]),type:new M("",[x.required])})}ngOnInit(){this.loadDocumentFormById(this.data.id).subscribe()}loadDocumentFormById(e){return this.documentService.findDocumentById(e).pipe(v(i=>{this.myForm.patchValue({titre:i.titre,type:i.type,infosComp:""}),this.myForm.disable(),this.myForm.get("infosComp")?.enable()}))}close(){this.dialogRef.close(!1)}static{this.\u0275fac=function(i){return new(i||t)(d(q),d(k),d(R))}}static{this.\u0275cmp=_({type:t,selectors:[["app-document-fiche"]],standalone:!0,features:[C],decls:17,vars:2,consts:[[3,"formGroup"],[1,"d-flex","justify-content-between","align-items-center"],["mat-dialog-title",""],[1,"btn",3,"click"],[1,"me-2",3,"icon"],[1,"px-4","pb-4"],[1,"d-flex","flex-row"],[1,"d-flex","flex-column","justify-content-center"],[1,"form-group","me-2"],["type","text","id","titre","formControlName","titre",1,"form-control"],[1,"form-group"],["for","statut"],["type","text","id","infosComp","formControlName","infosComp",1,"form-control"]],template:function(i,n){i&1&&(o(0,"form",0)(1,"div",1)(2,"h4",2),a(3,"D\xE9tails du document"),r(),o(4,"button",3),u("click",function(){return n.close()}),c(5,"fa-icon",4),r()(),o(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"label"),a(11,"Titre"),r(),c(12,"input",9),r()()(),o(13,"div",10)(14,"label",11),a(15,"Informations compl\xE9mentaires"),r(),c(16,"input",12),r()()()),i&2&&(l("formGroup",n.myForm),m(5),l("icon",n.faXmark))},dependencies:[N,_e,ue,fe,he,H,Ce,ve,D,j,Z,P,A],encapsulation:2})}}return t})();function it(t,s){t&1&&(o(0,"th",15),a(1,"Titre"),r())}function nt(t,s){if(t&1&&(o(0,"td",16),a(1),r()),t&2){let e=s.$implicit;m(),E(" ",e.titre,"")}}function ot(t,s){t&1&&(o(0,"th",15),a(1,"Type"),r())}function rt(t,s){if(t&1&&(o(0,"td",16),a(1),r()),t&2){let e=s.$implicit;m(),E(" ",e.type,"")}}function at(t,s){t&1&&c(0,"th",15)}function mt(t,s){if(t&1){let e=T();o(0,"td",16)(1,"button",17),u("click",function(n){return y(e),g(n.stopPropagation())}),c(2,"fa-icon",18),r(),o(3,"mat-menu",null,0)(5,"button",19),u("click",function(n){let p=y(e).$implicit;return h().deleteDocument(p.id),g(n.stopPropagation())}),c(6,"fa-icon",20),o(7,"span"),a(8,"Supprimer"),r()(),o(9,"button",19),u("click",function(n){let p=y(e).$implicit;return h().editDocument(p.id),g(n.stopPropagation())}),c(10,"fa-icon",21),o(11,"span"),a(12,"Modifier"),r()()()()}if(t&2){let e=U(4),i=h();m(),l("matMenuTriggerFor",e),m(),l("icon",i.faEllipsisVertical),m(4),l("icon",i.faTrash),m(4),l("icon",i.faEdit)}}function lt(t,s){t&1&&c(0,"tr",22)}function ct(t,s){if(t&1){let e=T();o(0,"tr",23),u("click",function(){let n=y(e).$implicit,p=h();return g(p.showDocument(n.id))}),r()}}var Ne=(()=>{class t{constructor(e,i){this.documentService=e,this.router=i,this.dialog=$(W),this.faTrash=J,this.faEdit=z,this.faPlus=Q,this.faEllipsisVertical=K,this.displayedColumns=["Titre","Type","Actions"]}deleteDocument(e){this.dialog.open(de,{width:"500px"}).afterClosed().subscribe(n=>{n&&this.documentService.deleteDocumentById(e).subscribe()})}createTypeDocument(){}createDocument(){this.dialog.open(Se,{width:"500px"})}editDocument(e){this.dialog.open(Se,{width:"500px",data:{id:e}})}showDocument(e){this.dialog.open(Be,{width:"500px",data:{id:e}})}static{this.\u0275fac=function(i){return new(i||t)(d(q),d(I))}}static{this.\u0275cmp=_({type:t,selectors:[["app-document"]],standalone:!0,features:[C],decls:24,vars:5,consts:[["menu","matMenu"],[1,"d-flex","justify-content-center","mb-5"],[1,"fw-bold"],[1,"d-flex","justify-content-end","align-items-center"],[1,"btn","btn-secondary","me-2",3,"click"],[1,"me-2",3,"icon"],[1,"btn","btn-dark",3,"click"],["mat-table","",3,"dataSource"],["matColumnDef","Titre"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Type"],["matColumnDef","Actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-button","",3,"click","matMenuTriggerFor"],[2,"color","black",3,"icon"],["mat-menu-item","",3,"click"],[1,"me-2",2,"color","red",3,"icon"],[1,"me-2",2,"color","blue",3,"icon"],["mat-header-row",""],["mat-row","",3,"click"]],template:function(i,n){i&1&&(o(0,"div",1)(1,"h2",2),a(2,"Documents"),r()(),o(3,"div",3)(4,"button",4),u("click",function(){return n.createTypeDocument()}),c(5,"fa-icon",5),o(6,"span"),a(7,"Ajouter un type de consultation"),r()(),o(8,"button",6),u("click",function(){return n.createDocument()}),c(9,"fa-icon",5),o(10,"span"),a(11,"Ajouter un document"),r()()(),o(12,"table",7),V(13,8),f(14,it,2,0,"th",9)(15,nt,2,1,"td",10),b(),V(16,11),f(17,ot,2,0,"th",9)(18,rt,2,1,"td",10),b(),V(19,12),f(20,at,1,0,"th",9)(21,mt,13,4,"td",10),b(),f(22,lt,1,0,"tr",13)(23,ct,1,0,"tr",14),r()),i&2&&(m(5),l("icon",n.faPlus),m(4),l("icon",n.faPlus),m(3),l("dataSource",n.documentService.documents()),m(10),l("matHeaderRowDef",n.displayedColumns),m(),l("matRowDefColumns",n.displayedColumns))},dependencies:[ce,Y,te,re,ie,ee,ae,ne,oe,me,le,D,P,A,xe,ge,ye,De,pe,se],encapsulation:2})}}return t})();var li=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=_({type:t,selectors:[["app-office"]],standalone:!0,features:[C],decls:4,vars:0,consts:[[1,"d-flex","flex-row","justify-content-center","p-3"],[1,"w-50"],[1,"vr","mx-5"]],template:function(i,n){i&1&&(o(0,"div",0),c(1,"app-veterinarian",1)(2,"div",2)(3,"app-document",1),r())},dependencies:[Pe,Ne],encapsulation:2})}}return t})();export{li as OfficeComponent};
