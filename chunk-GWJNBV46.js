import{a as R}from"./chunk-WS7OEYDR.js";import{a as k,b as C,c as G,d as H,e as U,f as g,h as Z,i as $,j as W,k as Q,l as z,m as J,n as K,o as X}from"./chunk-JOFQLKKD.js";import{L as j,M as q,O as L,Q as M,R as B,a as b,g as D}from"./chunk-YSJNSMYB.js";import{Gb as r,Hb as T,Ib as E,Jb as V,Pb as w,Sa as m,Ta as h,V as f,Y as v,ba as y,db as u,ha as _,jb as c,kc as N,lb as s,lc as P,p,pb as n,pc as O,qb as o,rb as x,v as l,xb as S,yb as I}from"./chunk-BEANJWLH.js";var tt=(()=>{class e{constructor(t){this.httpClient=t,this.consultations=u([]),this.originalConsultations=u([]),this.reloadConsultations().subscribe()}getConsultations(){return p([{id:1,titre:"Dents",date:"08/03/2025",statut:{id:1,libelle:"Termin\xE9"},typeOperation:{id:1,titre:"Extraction dentaire",date:"03/03/2025",type:"Chirurgeries dentaires"},animal:{id:1,libelle:"Chien",nom:"Achil"},veterinarian:{id:1,nom:"Isnard",prenom:"Zo\xE9"}},{id:2,titre:"Dents",date:"08/03/2025",statut:{id:2,libelle:"En attente"},typeOperation:{id:1,titre:"Extraction dentaire",date:"03/03/2025",type:"Chirurgeries dentaires"},animal:{id:2,libelle:"Chat",nom:"Quentin"},veterinarian:{id:2,nom:"Pucholle",prenom:"Alsexy"}},{id:3,titre:"Dents",statut:{id:3,libelle:"Annul\xE9"},date:"08/03/2025",typeOperation:{id:1,titre:"Extraction dentaire",date:"03/03/2025",type:"Chirurgeries dentaires"},animal:{id:3,libelle:"NAC",nom:"POL"},veterinarian:{id:2,nom:"Pucholle",prenom:"Alsexy"}}])}reloadConsultations(){return this.getConsultations().pipe(f(t=>{this.consultations.set(t),this.originalConsultations.set(t)}))}findConsultationById(t){return p({id:1,titre:"Dents",date:"08/03/2025",statut:{id:1,libelle:"Termin\xE9"},typeOperation:{id:1,titre:"Extraction dentaire",date:"03/03/2025",type:"Chirurgeries dentaires"},animal:{id:1,libelle:"Chien",nom:"Achil",dateNaissance:"07/03/2024"},veterinarian:{id:1,nom:"Isnard",prenom:"Zo\xE9"}})}findConsultationWithFilter(t){if(!t)return this.consultations.set(this.originalConsultations()),this.consultations();let i=this.originalConsultations().filter(a=>a.nom.toLowerCase().includes(t.toLowerCase())||a.age.toString().includes(t)||a.statut.label.toLowerCase().includes(t.toLowerCase())||a.type.label.toLowerCase().includes(t.toLowerCase()));return this.consultations.set(i),this.consultations()}deleteConsultationById(t){return this.httpClient.request("DELETE","/consultation/"+t).pipe(l(()=>this.reloadConsultations()))}editConsultationById(t,i){return this.httpClient.request("PATCH","/consultation/"+t,{body:i}).pipe(l(()=>this.reloadConsultations()))}createConsultation(t){let i={};return this.httpClient.request("POST","/consultation",{body:i}).pipe(l(()=>this.reloadConsultations()))}completeConsultationById(t){return this.httpClient.request("PUT","/consultation/"+t).pipe(l(()=>this.reloadConsultations()))}static{this.\u0275fac=function(i){return new(i||e)(y(b))}}static{this.\u0275prov=v({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var et=(()=>{class e{constructor(t){this.httpClient=t,this.animaux=u([]),this.originalAnimaux=u([]),this.reloadAnimaux().subscribe()}getAnimaux(){return p([{id:1,nom:"Achil",dateNaissance:"07/03/2024",type:{id:1,label:"Chien"},proprietaire:{id:1,nom:"ProprioRomain1",prenom:"PropioPrenom1",email:"test1@gmail.com"}},{id:2,nom:"Quentin",dateNaissance:"04/03/2024",type:{id:3,label:"NAC"},proprietaire:{id:1,nom:"ProprioRomain2",prenom:"PropioPrenom2",email:"test2@gmail.com"}},{id:3,nom:"Nasser",dateNaissance:"07/01/2024",type:{id:2,label:"Chat"},proprietaire:{id:1,nom:"ProprioRomain3",prenom:"PropioPrenom3",email:"test@gmail.com3"}}])}reloadAnimaux(){return this.getAnimaux().pipe(f(t=>{this.animaux.set(t),this.originalAnimaux.set(t)}))}findAnimalById(t){return p({id:1,nom:"Achil",dateNaissance:"07/03/2024",type:{id:1,label:"Chien"},proprietaire:{id:1,nom:"ProprioRomain",prenom:"PropioPrenom",email:"test@gmail.com"}})}findAnimalWithFilter(t){return t?this.animaux():(this.animaux.set(this.originalAnimaux()),this.animaux())}deleteAnimalById(t){return this.httpClient.request("DELETE","/animal/"+t).pipe(l(()=>this.reloadAnimaux()))}editAnimalById(t,i){return this.httpClient.request("PATCH","/animal/"+t,{body:i}).pipe(l(()=>this.reloadAnimaux()))}createAnimal(t){let i={};return this.httpClient.request("POST","/animal",{body:i}).pipe(l(()=>this.reloadAnimaux()))}completeAnimalById(t){return this.httpClient.request("PUT","/animal/"+t).pipe(l(()=>this.reloadAnimaux()))}static{this.\u0275fac=function(i){return new(i||e)(y(b))}}static{this.\u0275prov=v({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var it=(()=>{class e{constructor(t){this.httpClient=t,this.vets=u([]),this.originalVets=u([]),this.reloadVets().subscribe()}getVets(){return p([{id:1,nom:"Isnard",prenom:"Zoe"},{id:2,nom:"Isnard",prenom:"Achil"}])}reloadVets(){return this.getVets().pipe(f(t=>{this.vets.set(t),this.originalVets.set(t)}))}findVetById(t){return p({id:1,nom:"Isnard",prenom:"Zo\xE9"})}deleteVetById(t){return this.httpClient.request("DELETE","/Veterinaire/"+t).pipe(l(()=>this.reloadVets()))}editVetById(t,i){return this.httpClient.request("PATCH","/Veterinaire/"+t,{body:i}).pipe(l(()=>this.reloadVets()))}createVet(t){let i={};return this.httpClient.request("POST","/Veterinaire",{body:i}).pipe(l(()=>this.reloadVets()))}findVetWithFilter(t){if(!t)return this.vets.set(this.originalVets()),this.vets();let i=this.originalVets().filter(a=>a.nom.toLowerCase().includes(t.toLowerCase())||a.prenom.toLowerCase().includes(t.toLowerCase()));return this.vets.set(i),this.vets()}static{this.\u0275fac=function(i){return new(i||e)(y(b))}}static{this.\u0275prov=v({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function mt(e,d){e&1&&(n(0,"div",28),r(1,"Le titre est obligatoire"),o())}function dt(e,d){if(e&1&&(n(0,"div"),c(1,mt,2,0,"div",27),o()),e&2){let t=I();m(),s("ngIf",t.titreFc==null||t.titreFc.errors==null?null:t.titreFc.errors.required)}}function pt(e,d){if(e&1&&(n(0,"option",29),r(1),o()),e&2){let t=d.$implicit;s("ngValue",t.id),m(),E(" ",t.nom," ")}}function ut(e,d){if(e&1&&(n(0,"option",29),r(1),o()),e&2){let t=d.$implicit;s("ngValue",t.id),m(),E(" ",t.titre," ")}}function ct(e,d){if(e&1&&(n(0,"option",29),r(1),o()),e&2){let t=d.$implicit;s("ngValue",t.id),m(),V(" ",t.prenom," ",t.nom," ")}}function ft(e,d){if(e&1&&(n(0,"option",29),r(1),o()),e&2){let t=d.$implicit;s("ngValue",t.id),m(),T(t.libelle)}}function ht(e,d){e&1&&(n(0,"div",28),r(1,"Le statut est obligatoire"),o())}function Ct(e,d){if(e&1&&(n(0,"div"),c(1,ht,2,0,"div",27),o()),e&2){let t=I();m(),s("ngIf",t.statutFc==null||t.statutFc.errors==null?null:t.statutFc.errors.required)}}var jt=(()=>{class e{constructor(t,i,a,F,nt,ot,rt){this.consultationService=t,this.animalService=i,this.veterinarianService=a,this.surgeryService=F,this.router=nt,this.dialogRef=ot,this.data=rt,this.myForm=new U({titre:new g("",[C.required]),statut:new g("",[C.required]),date:new g("",[C.required]),animal:new g("",[C.required]),typeOperation:new g("",[C.required]),veterinarian:new g("",[C.required]),comment:new g("",[C.required])}),this.types=[{id:1,libelle:"Chien"},{id:2,libelle:"Chat"},{id:3,libelle:"NAC"}],this.statuts=[{id:1,libelle:"Termin\xE9"},{id:2,libelle:"En attente"},{id:3,libelle:"Annul\xE9"}]}ngOnInit(){this.data?.id?this.loadPatientFormById(this.data.id).subscribe():this.myForm.patchValue({statut:2})}cancel(){this.dialogRef.close(!1)}confirm(){this.dialogRef.close(!0)}loadPatientFormById(t){return this.consultationService.findConsultationById(t).pipe(f(i=>{this.myForm.patchValue({titre:i.titre,statut:i.statut.id,date:i.date,animal:i.animal.id,typeOperation:i.typeOperation.id,veterinarian:i.veterinarian.id,comment:i.comment})}))}onSubmit(){let t=this.myForm.value;this.myForm.valid?this.consultationService.createConsultation(t).subscribe(()=>{this.router.navigate(["/consultation"])}):console.log("erreur, formulaire pas valid\xE9")}get titreFc(){return this.myForm.get("titre")}get ageFc(){return this.myForm.get("age")}get typeFc(){return this.myForm.get("type")}get statutFc(){return this.myForm.get("statut")}static{this.\u0275fac=function(i){return new(i||e)(h(tt),h(et),h(it),h(R),h(D),h(j),h(q))}}static{this.\u0275cmp=_({type:e,selectors:[["app-consultation-form"]],standalone:!0,features:[w],decls:58,vars:7,consts:[[3,"formGroup"],["mat-dialog-title",""],[1,"p-4"],[1,"d-flex","flex-row","mb-2"],[1,"form-group","w-50","me-2"],["for","nom"],[2,"color","red"],["type","text","id","titre","formControlName","titre",1,"form-control"],[4,"ngIf"],[1,"form-group","w-50"],["for","age"],["type","date","id","date","formControlName","date",1,"form-control"],["for","animal"],["formControlName","animal",1,"form-select"],[3,"ngValue",4,"ngFor","ngForOf"],["for","typeOperation"],["formControlName","typeOperation",1,"form-select"],["for","veterinarian"],["formControlName","veterinarian",1,"form-select"],["for","statut"],["formControlName","statut",1,"form-select"],[1,"form-group"],["for","comment"],["id","comment","formControlName","comment","rows","3",1,"form-control"],[1,"d-flex","flex-row","justify-content-evenly"],[1,"cancel-button",3,"click"],[1,"d-flex","justify-content-center","align-items-center","btn","btn-success",3,"click"],["class","alert alert-danger",4,"ngIf"],[1,"alert","alert-danger"],[3,"ngValue"]],template:function(i,a){i&1&&(n(0,"form",0)(1,"h4",1),r(2,"Cr\xE9er une consultation"),o(),n(3,"div",2)(4,"div",3)(5,"div",4)(6,"label",5),r(7,"Titre"),n(8,"span",6),r(9,"*"),o()(),x(10,"input",7),c(11,dt,2,1,"div",8),o(),n(12,"div",9)(13,"label",10),r(14,"Date"),n(15,"span",6),r(16,"*"),o()(),x(17,"input",11),o()(),n(18,"div",3)(19,"div",4)(20,"label",12),r(21,"Animal"),n(22,"span",6),r(23,"*"),o()(),n(24,"select",13),c(25,pt,2,2,"option",14),o()(),n(26,"div",9)(27,"label",15),r(28,"Type d'op\xE9ration"),n(29,"span",6),r(30,"*"),o()(),n(31,"select",16),c(32,ut,2,2,"option",14),o()()(),n(33,"div",3)(34,"div",4)(35,"label",17),r(36,"V\xE9t\xE9rinaire"),n(37,"span",6),r(38,"*"),o()(),n(39,"select",18),c(40,ct,2,3,"option",14),o()(),n(41,"div",9)(42,"label",19),r(43,"Statut"),n(44,"span",6),r(45,"*"),o()(),n(46,"select",20),c(47,ft,2,2,"option",14),o(),c(48,Ct,2,1,"div",8),o()(),n(49,"div",21)(50,"label",22),r(51,"Commentaire"),o(),x(52,"textarea",23),o()()(),n(53,"mat-dialog-actions",24)(54,"button",25),S("click",function(){return a.cancel()}),r(55,"Annuler"),o(),n(56,"button",26),S("click",function(){return a.onSubmit()}),r(57," Ajouter une consultation "),o()()),i&2&&(s("formGroup",a.myForm),m(11),s("ngIf",a.titreFc==null?null:a.titreFc.touched),m(14),s("ngForOf",a.animalService.animaux()),m(7),s("ngForOf",a.surgeryService.surgeries()),m(8),s("ngForOf",a.veterinarianService.vets()),m(7),s("ngForOf",a.statuts),m(),s("ngIf",a.statutFc==null?null:a.statutFc.touched))},dependencies:[K,Z,z,J,k,Q,G,H,X,$,W,O,N,P,B,L,M],encapsulation:2})}}return e})();export{tt as a,et as b,it as c,jt as d};
